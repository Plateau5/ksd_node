var Base={Browser:{IE:!!(window.attachEvent&&!window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")==-1},ScriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,getUrlParam:function(param){var reg=new RegExp("(^|&)"+param+"=([^&]*)(&|$)");var r=window.location.search.substr(1).match(reg);var reStr=r!=null?unescape(r[2]):"";return reStr}};Object.extend=function(target,source){for(var property in source){target[property]=source[property]}return target};Object.extend(Object,{inspect:function(object){try{if(object===undefined)return"undefined";if(object===null)return"null";return object.inspect?object.inspect():object.toString()}catch(e){if(e instanceof RangeError)return"...";throw e}},toJSON:function(object){var type=typeof object;switch(type){case"undefined":case"function":case"unknown":return;case"boolean":return object.toString()}if(object===null)return"null";if(object.toJSON)return object.toJSON();if(object.ownerDocument===document)return;var results=[];for(var property in object){var value=Object.toJSON(object[property]);if(value!==undefined)results.push(property.toJSON()+": "+value)}return"{"+results.join(", ")+"}"},keys:function(object){var keys=[];for(var property in object)keys.push(property);return keys},len:function(obj){if(!obj){return 0}if(obj.length){return obj.length}var count=0;for(var key in obj){if(obj.hasOwnProperty(key)){count++}}return count},hasAttr:function(attrName,obj){return obj.hasOwnProperty(attrName)},removeAttr:function(attrName,obj){if(obj.hasOwnProperty(attrName)){delete obj[attrName]}},values:function(object){var values=[];for(var property in object)values.push(object[property]);return values},clone:function(object){return Object.extend({},object)},isArray:function(arr){return Object.prototype.toString.call(arr)==="[object Array]"}});Object.extend(Date.prototype,{now:function(){return(new Date).valueOf()}});Object.extend(String.prototype,{toArray:function(){return this.split("")},isJSON:function(){var str=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(str)},include:function(pattern){return this.indexOf(pattern)>-1},empty:function(){return this==""},blank:function(){return/^\s*$/.test(this)},trim:function(){return this.replace(/^\s+|\s+$/g,"")}});Object.extend(Array.prototype,{toObject:function(arr){var obj={};for(var i=0,j=arr.length;i<j;i++){obj[arr[i]]=1}return obj}});String.prototype.gblen=function(){var len=0;for(var i=0;i<this.length;i++){if(this.charCodeAt(i)>127||this.charCodeAt(i)==94){len+=2}else{len++}}return len};Array.prototype.indexOf=function(val){for(var i=0;i<this.length;i++){if(this[i]==val)return i}return-1};Array.prototype.remove=function(val){var index=this.indexOf(val);if(index>-1){this.splice(index,1)}};