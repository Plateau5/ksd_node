{"version":3,"sources":["imagecropper.js"],"names":["i","c","a","b","d","e","this","width","height","cropWidth","cropHeight","imageContext","imageCanvas","image","imageScale","imageViewTop","imageViewLeft","imageTop","imageLeft","imageRotation","context","canvas","previews","maskGroup","maskAlpha","maskColor","cropTop","cropLeft","cropViewWidth","cropViewHeight","dragSize","dragColor","mouseY","mouseX","dragTop","dragLeft","isResizing","isMoving","inDragger","inCropper","cropStartHeight","cropStartWidth","cropStartTop","cropStartLeft","mouseStartY","mouseStartX","ImageCropper","prototype","setCanvas","document","getElementById","getContext","oncontextmenu","onselectstart","createElement","addPreview","push","loadImage","filepath","value","extname","substring","lastIndexOf","length","alert","size","files","isAvaiable","isImage","FileReader","readAsDataURL","onload","Image","_init","src","target","result","Math","min","_update","onmousedown","_mouseHandler","call","onmouseup","onmousemove","type","getClientRects","pageX","left","$","window","scrollLeft","pageY","top","scrollTop","_checkMouseBounds","style","cursor","_move","_resize","max","round","rotate","abs","clearRect","_drawImage","_drawMask","_drawDragger","_drawPreview","save","translate","scale","PI","drawImage","restore","_drawRect","f","g","h","fillStyle","strokeStyle","globalAlpha","beginPath","rect","closePath","fill","stroke","getCroppedImageData","toDataURL","test"],"mappings":"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"}